import{u as g,r as x,o as b,e as v,b as c,c as y,d as s,k as p,h as l,m as f,g as P,i as w,F as k,j as S,l as u}from"./index.be4dfebf.js";import{_ as I}from"./pop.6aa7a53b.js";const N={class:"h-screen"},V={class:"flex p-4"},B=S('<div class="mr-2 flex w-3/5 items-center justify-around rounded-lg bg-white"><span class="rounded-lg bg-primary py-1 px-2 text-white"><i class="bx bxs-chevron-left"></i></span><span>1/2</span><span class="rounded-lg bg-primary py-1 px-2 text-white"><i class="bx bxs-chevron-right"></i></span></div>',1),C={class:"mx-auto mb-5 h-[450px] w-11/12 overflow-scroll"},j=["src"],F={class:"text-center"},z=s("p",null,"\u672A\u6709\u5DF2\u7C3D\u540Dpdf",-1),H={__name:"Save",props:["histroyPdf"],setup(h){const o=h,e=g(),n=x(!1),m=()=>{n.value=!1},i=o.histroyPdf?e.historyPdf[parseInt(o.histroyPdf)].url:e.finalPdf;i||(n.value=!0);let t="";b(()=>{t=new jsPDF});const _=()=>{const r=t.internal.pageSize.width,a=t.internal.pageSize.height;o.histroyPdf?(t.addImage(e.historyPdf[parseInt(o.histroyPdf)].url,"png",0,0,r,a),t.save(e.historyPdf[parseInt(o.histroyPdf)].name)):(t.addImage(e.finalPdf,"png",0,0,r,a),t.save("\u5DF2\u7C3D\u540D"+e.pdf.name),e.savePdf({name:"\u5DF2\u7C3D\u540D"+e.pdf.name,url:e.finalPdf}))};return(r,a)=>{const d=v("router-link");return c(),y(k,null,[s("div",N,[s("div",V,[B,p(d,{to:"/",class:"btn-border w-2/5 text-center"},{default:l(()=>[u("\u56DE\u9996\u9801")]),_:1})]),s("div",C,[s("img",{src:f(i),alt:""},null,8,j)]),s("button",{onClick:a[0]||(a[0]=$=>_()),class:"mx-auto block w-4/6 rounded-lg bg-primary bg-gradient-to-b from-green-600 to-green-900 py-4 text-center text-white"}," \u5132\u5B58 ")]),f(n)?(c(),P(I,{key:0,closeHandler:m},{default:l(()=>[s("div",F,[z,p(d,{class:"btn-full mx-auto block w-2/5",to:"/",replace:""},{default:l(()=>[u("\u78BA\u5B9A")]),_:1})])]),_:1})):w("",!0)],64)}}};export{H as default};
